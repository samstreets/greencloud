âš¡ Quick Start
Method 1: Use the Prebuilt Template
ğŸ”½ Step 1 â€” Download the Template
Inside the Proxmox UI:

Select local (proxmox) storage.
Go to CT Templates.
Either:

Click Download from URL, or
Upload greencloud.tar.zst manually.


Confirm it appears in the template list.


ğŸ“¦ Step 2 â€” Create the Container

Click Create CT.
Uncheck:

Unprivileged container


Set:

Hostname
Root password


Choose template: greencloud.tar.zst
Leave defaults unless otherwise required.
Network: set to DHCP
Finish creation.


ğŸ›  Step 3 â€” Set Runtime Permissions
Edit the container config:
nano /etc/pve/lxc/<container-id>.conf

Add:
# ==== GreenCloud runtime permissions ====
lxc.cap.drop:
lxc.apparmor.profile: unconfined
lxc.cgroup2.devices.allow: a
lxc.mount.auto: proc:rw sys:rw
lxc.mount.entry: /dev/fuse dev/fuse none bind,create=file 0 0


ğŸš€ Step 4 â€” Start & Configure
Start the container, then:
pct enter <container-id>

Inside:
configure_node.sh

Your GreenCloud node is now configured.

Method 2: Build Your Own Template
Ideal for developers or users wanting full reproducibility.

ğŸ” Step 1 â€” Check Available Debian Templates
Run:
pveam available

Make sure your template builder script references the latest Debian version.

ğŸ— Step 2 â€” Download & Run the Template Builder
wget https://raw.githubusercontent.com/samstreets/greencloud/refs/heads/main/Proxmox/template_build.sh
bash template_build.sh

The generated image will appear in:
/var/lib/vz/dump

Move it into the template cache:
mv /var/lib/vz/dump/*.tar.zst /var/lib/vz/template/cache/

You can now create a container using this template (follow Method 1).

ğŸ›  Runtime Configuration Details
GreenCloud requires specific LXC privileges for runtime operations, including:

Full device access
FUSE passthrough
Relaxed AppArmor confinement
proc/sys RW mounts

These are applied in the container config:
lxc.cap.drop:
lxc.apparmor.profile: unconfined
lxc.cgroup2.devices.allow: a
lxc.mount.auto: proc:rw sys:rw
lxc.mount.entry: /dev/fuse dev/fuse none bind,create=file 0 0

